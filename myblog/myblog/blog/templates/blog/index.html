{% extends 'base.html' %}
{% load static%}

{% block subheader %}
<a href="#">Blog</a>
{% endblock subheader %}


{% block content %}
<div class="col-md-8 blog-main">
    {% if latest_post_list %}
        <div class="row">
        {% for post in latest_post_list %}
            <div class="col-md-6 col-sm-6">
                <article class=" blog-teaser">
                    <header>
                        <img class="img-responsive" src="{% static 'blog/img/1.jpg' %}" alt="picture">
                        <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
                        <span class="meta">{{ post.created_time }}, {{ post.author }}</span>
                        <hr>
                    </header>
                    <div class="body">
                        {{ post.excerpt }}
                    </div>
                    <div class="clearfix">
                        <a href="{{ post.get_absolute_url }}" class="btn btn-clean-one">Read more</a>
                    </div>
                </article>
            </div>
        {% endfor %}
        </div>

        {% if is_paginated %}
        <div class="paging ContentCenter">
            <ul class="pagination">
                <li><a href="?page=1"><<</a></li>
                {% if page_obj.has_previous %}
                <li><a href="?page={{ page_obj.previous_page_number }}"><</a></li>
                {% else %}
                <li><a href=""><</a></li>
                {% endif %}
                {% if first %}
                <li><a href="?page=1">1</a></li>
                {% endif %}
                {% if left %}
                    {% if left_has_more %}
                    <li><a>...</a></li>
                    {% endif %}
                    {% for i in left %}
                        <li><a href="?page={{i}}">{{i}}</a></li>
                    {% endfor %}
                {% endif %}
                <li class="active"><a href="?page={{ page_obj.number }}">{{page_obj.number}}</a></li>
                {% if right %}
                    {% for i in right %}
                        <li><a href="?page={{i}}">{{i}}</a></li>
                    {% endfor %}
                    {% if right_has_more %}
                    <li><a>...</a></li>
                    {% endif %}
                {% endif %}
                {% if last %}
                <li><a href="?page={{paginator.num_pages}}">{{paginator.num_pages}}</a></li>
                {% endif %}
                {% if page_obj.has_next %}
                <li><a href="?page={{ page_obj.next_page_number }}">></a></li>
                {% else %}
                <li><a href="">></a></li>
                {% endif %}
                <li><a href="?page={{paginator.num_pages}}">>></a></li>
            </ul>
        </div>
        {% endif %}
    {% else %}
        <P class="text-center">暂无文章!</P>
    {% endif %}

</div>
{% endblock content %}

